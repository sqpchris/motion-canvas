const INITIALIZERS = Symbol.for('@motion-canvas/2d/decorators/initializers');
export function addInitializer(target, initializer) {
    if (!target[INITIALIZERS]) {
        target[INITIALIZERS] = [];
    }
    else if (
    // if one of the prototypes has initializers
    target[INITIALIZERS] &&
        // and it's not the target object itself
        !Object.prototype.hasOwnProperty.call(target, INITIALIZERS)) {
        const base = Object.getPrototypeOf(target);
        target[INITIALIZERS] = [...base[INITIALIZERS]];
    }
    target[INITIALIZERS].push(initializer);
}
export function initialize(target, context) {
    if (target[INITIALIZERS]) {
        try {
            target[INITIALIZERS].forEach((initializer) => initializer(target, context));
        }
        catch (e) {
            e.inspect ?? (e.inspect = target.key);
            throw e;
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdGlhbGl6ZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2RlY29yYXRvcnMvaW5pdGlhbGl6ZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sWUFBWSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsMkNBQTJDLENBQUMsQ0FBQztBQUk3RSxNQUFNLFVBQVUsY0FBYyxDQUFJLE1BQVcsRUFBRSxXQUEyQjtJQUN4RSxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUFFO1FBQ3pCLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDM0I7U0FBTTtJQUNMLDRDQUE0QztJQUM1QyxNQUFNLENBQUMsWUFBWSxDQUFDO1FBQ3BCLHdDQUF3QztRQUN4QyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDLEVBQzNEO1FBQ0EsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzQyxNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0tBQ2hEO0lBRUQsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUN6QyxDQUFDO0FBRUQsTUFBTSxVQUFVLFVBQVUsQ0FBQyxNQUFXLEVBQUUsT0FBYTtJQUNuRCxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFBRTtRQUN4QixJQUFJO1lBQ0YsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQTZCLEVBQUUsRUFBRSxDQUM3RCxXQUFXLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUM3QixDQUFDO1NBQ0g7UUFBQyxPQUFPLENBQU0sRUFBRTtZQUNmLENBQUMsQ0FBQyxPQUFPLEtBQVQsQ0FBQyxDQUFDLE9BQU8sR0FBSyxNQUFNLENBQUMsR0FBRyxFQUFDO1lBQ3pCLE1BQU0sQ0FBQyxDQUFDO1NBQ1Q7S0FDRjtBQUNILENBQUMifQ==