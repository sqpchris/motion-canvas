import { Color, mix } from 'chroma-js';
import { SignalContext } from '../signals';
const ExtendedColor = (() => {
    Color.symbol = Color.prototype.symbol = Symbol.for('@motion-canvas/core/types/Color');
    Color.lerp = Color.prototype.lerp = (from, to, value, colorSpace = 'lch') => {
        if (typeof from === 'string') {
            from = new Color(from);
        }
        if (typeof to === 'string') {
            to = new Color(to);
        }
        const fromIsColor = from instanceof Color;
        const toIsColor = to instanceof Color;
        if (!fromIsColor) {
            from = toIsColor ? to.alpha(0) : new Color('rgba(0, 0, 0, 0)');
        }
        if (!toIsColor) {
            to = fromIsColor
                ? from.alpha(0)
                : new Color('rgba(0, 0, 0, 0)');
        }
        return mix(from, to, value, colorSpace);
    };
    Color.createLerp = Color.prototype.createLerp =
        (colorSpace) => (from, to, value) => Color.lerp(from, to, value, colorSpace);
    Color.createSignal = (initial, interpolation = Color.lerp) => {
        return new SignalContext(initial, interpolation, undefined, value => new Color(value)).toSignal();
    };
    Color.prototype.toSymbol = () => {
        return Color.symbol;
    };
    Color.prototype.serialize = function () {
        return this.css();
    };
    Color.prototype.lerp = function (to, value, colorSpace) {
        return Color.lerp(this, to, value, colorSpace);
    };
    return Color;
})();
export { ExtendedColor as Color };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29sb3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdHlwZXMvQ29sb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLEtBQUssRUFBaUMsR0FBRyxFQUFDLE1BQU0sV0FBVyxDQUFDO0FBR3BFLE9BQU8sRUFBUyxhQUFhLEVBQWMsTUFBTSxZQUFZLENBQUM7QUE2QzlELE1BQU0sYUFBYSxHQUFpQixDQUFDLEdBQUcsRUFBRTtJQUN4QyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQ2hELGlDQUFpQyxDQUNsQyxDQUFDO0lBRUYsS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxDQUNsQyxJQUEyQixFQUMzQixFQUF5QixFQUN6QixLQUFhLEVBQ2IsYUFBZ0MsS0FBSyxFQUNyQyxFQUFFO1FBQ0YsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7WUFDNUIsSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3hCO1FBQ0QsSUFBSSxPQUFPLEVBQUUsS0FBSyxRQUFRLEVBQUU7WUFDMUIsRUFBRSxHQUFHLElBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ3BCO1FBRUQsTUFBTSxXQUFXLEdBQUcsSUFBSSxZQUFZLEtBQUssQ0FBQztRQUMxQyxNQUFNLFNBQVMsR0FBRyxFQUFFLFlBQVksS0FBSyxDQUFDO1FBRXRDLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDaEIsSUFBSSxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUUsRUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztTQUMzRTtRQUNELElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDZCxFQUFFLEdBQUcsV0FBVztnQkFDZCxDQUFDLENBQUUsSUFBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1NBQ25DO1FBRUQsT0FBTyxHQUFHLENBQUMsSUFBYSxFQUFFLEVBQVcsRUFBRSxLQUFLLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDNUQsQ0FBQyxDQUFDO0lBRUYsS0FBSyxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLFVBQVU7UUFDM0MsQ0FBQyxVQUE2QixFQUFFLEVBQUUsQ0FDbEMsQ0FBQyxJQUEyQixFQUFFLEVBQXlCLEVBQUUsS0FBYSxFQUFFLEVBQUUsQ0FDeEUsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztJQUU1QyxLQUFLLENBQUMsWUFBWSxHQUFHLENBQ25CLE9BQW9DLEVBQ3BDLGdCQUE4QyxLQUFLLENBQUMsSUFBSSxFQUNyQyxFQUFFO1FBQ3JCLE9BQU8sSUFBSSxhQUFhLENBQ3RCLE9BQU8sRUFDUCxhQUFhLEVBQ2IsU0FBUyxFQUNULEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQzFCLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDZixDQUFDLENBQUM7SUFFRixLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxHQUFHLEVBQUU7UUFDOUIsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQ3RCLENBQUMsQ0FBQztJQUVGLEtBQUssQ0FBQyxTQUFTLENBQUMsU0FBUyxHQUFHO1FBQzFCLE9BQU8sSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ3BCLENBQUMsQ0FBQztJQUVGLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLFVBRXJCLEVBQVMsRUFDVCxLQUFhLEVBQ2IsVUFBdUI7UUFFdkIsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ2pELENBQUMsQ0FBQztJQUVGLE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUVMLE9BQU8sRUFBQyxhQUFhLElBQUksS0FBSyxFQUFDLENBQUMifQ==